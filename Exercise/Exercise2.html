<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise2</title>
    <script>
        let students = [
      {
        name: 'Vaishnavi',
        batch: 8,
        marks: {
          science: 80,
          social: 70,
          hindi: 80,
          maths: 100,
          english: 90,
        }
      }, {
        name: 'Abhishek',
        batch: 10,
        marks: {
          science: 75,
          social: 75,
          hindi: 62,
          maths: 81,
          english: 52,
        }
      }, {
        name: 'Pappu',
        batch: 10,
        marks: {
          science: 70,
          social: 72,
          hindi: 75,
          maths: 95,
          english: 82,
        }
      }, {
        name: 'Ram',
        batch: 7,
        marks: {
          science: 35,
          social: 24,
          hindi: 22,
          maths: 95,
          english: 67,
        }
      }, {
        name: 'Shyam',
        batch: 9,
        marks: {
          science: 45,
          social: 87,
          hindi: 65,
          maths: 78,
          english: 99,
        }
      }
    ]

		/* Q - Return array of students with following details:
			- name
			- batch
			- average marks secured
		*/
        let studentDetails = students.map((students) =>{
            let markArray = Object.values(students.marks)
            let totalMark = 0 
            markArray.forEach(marks => {
                totalMark = totalMark + marks
            })

            
            let avgmarks = totalMark/markArray.length
                        return {
                name:students.name,
                batch:students.batch,
                avgmarks:avgmarks
            }
        })
        console.log(studentDetails)
      
		/* Q - Return array of only those students whose avg marks should be > 75 with following details:
			- name
			- batch
			- average marks secured
      */  
    //  Here we have used .map() --> .filter() 
           let studentDetails1 = students.map((students) =>{
            let markArray = Object.values(students.marks)
            let totalMark = 0 
            markArray.forEach(marks => {
                totalMark = totalMark + marks
            })
            let avgmarks = totalMark/markArray.length
                        return {
                name:students.name,
                batch:students.batch,
                avgmarks:avgmarks
            }

        }).filter(function(student){
          return student.avgmarks > 75
        })
        console.log(studentDetails1)
        


    //  Here we have used   .filter() --> .map() 
        let studentDetails2 = students.filter((students) =>{
            let markArray1 = Object.values(students.marks)
            let totalMark1 = 0 
            markArray1.forEach(marks => {
                totalMark1 = totalMark1 + marks
            })            
            let avgmarks = totalMark1/markArray1.length
            return  avgmarks > 75

        }).map(function(student) {
          let markArray = Object.values(student.marks)
            let totalMark = 0 
            markArray.forEach(marks => {
                totalMark = totalMark + marks
            })           
            let avgmarks = totalMark/markArray.length
          return {
            name:student.name,
            batch:student.batch,
            avgmarks:avgmarks
          }
        })
   
         console.log(studentDetails2)
        </script>
</head>
<body>
    
</body>
</html>